# Valid Sudoku

from collections import defaultdict
from typing import List

def isValidSudoku(board: List[List[str]]) -> bool:
    # Check rows
    for r in board:
        nums = defaultdict(bool)
        for n in r:
            if not(n == '.'):
                if n in nums:
                    return False
                else:
                    nums[n] = True
    # Check cols
    for c in range(len(board[0])):
        nums = defaultdict(bool)
        for i in range(len(board)):
            print(i, c, board[c][i])
            if not(board[i][c] == '.'):
                if board[i][c] in nums:
                    return False
                else:
                    nums[board[i][c]] = True
    # Check 3x3 squares
    for i in range(3):
        for j in range(3):
            nums = defaultdict(bool)
            for k in range(i*3, (i*3 + 3)):
                for l in range(j*3, (j*3 + 3)):
                    if board[k][l] != '.':
                        if board[k][l] in nums:
                            return False
                        else:
                            nums[board[k][l]] = True
    return True

b = [
  ["5","3","3",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
"""b = [
  ["8","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]"""
b = [
    [".",".","4",".",".",".","6","3","."],
    [".",".",".",".",".",".",".",".","."],
    ["5",".",".",".",".",".",".","9","."],
    [".",".",".","5","6",".",".",".","."],
    ["4",".","3",".",".",".",".",".","1"],
    [".",".",".","7",".",".",".",".","."],
    [".",".",".","5",".",".",".",".","."],
    [".",".",".",".",".",".",".",".","."],
    [".",".",".",".",".",".",".",".","."]]
print(isValidSudoku(b))